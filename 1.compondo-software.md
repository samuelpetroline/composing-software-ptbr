> Composição: "O ato de combinar partes ou elementos para formar um inteiro"
>                                                               ~ Dicionary.com

Em minha primeira aula de programção, no ensino médio, me disseram que desenvolvimento de software é "o ato de quebrar um problema complexo em partes menores, e compor soluções simples para formar uma solução completa para o problema complexo".

Um dos maiores arrependimentos da minha vida foi falhar em entender o significado dessa lição mais cedo. Eu aprendi a essência do *software design* muito tarde na vida.

Eu entrevistei centenas de desenvolvedores. O que aprendi com essas entrevistas foi descobrir que não sou o único. Pouquíssimos desenvolvedores tem um bom entendimento da essência do desenvolvimento de software. Eles não estão cientes das ferramentas mais importantes que estão à nossa disposição, nem como fazer bom uso delas. 100% tiveram dificuldades em responder uma ou duas das mais importantes questões do desenvolvimento de software:

* O que é *function composition* (composição de função)?
* O que é *object composition* (composição de objetos)?

O problema é que você não pode evitar composição só porquê tem conhecimento disso. Você ainda usa - mas muito mal. Você escreve código com mais bugs, e torna mais difícil para outros desenvolvedores entenderem. Esse é um problema muito grande. Os resultados são muito caros. Nós gastamos mais tempo mantendo do que gastamos criando do zero, e nossos bugs impactam bilhões de pessoas ao redor do mundo.

O mundo inteiro roda em software hoje em dia. Todo novo carro é mini super computador sobre rodas, e problemas com design de software causam acidentes reais e até mesmo morte. Em 2013, um juíz condenou o time de desenvolvimento da Toyota culpado depois de uma investigação revelar o [código espaguete](https://pt.wikipedia.org/wiki/C%C3%B3digo_espaguete) com 10.000 variáveis globais.

[Hackers e governos abusam de bugs](https://www.technologyreview.com/2017/05/15/151682/should-the-government-keep-stockpiling-software-bugs/) para espionar pessoas, roubar cartões de créditos, usar recursos para lançar ataques DDoS, quebrar senhas e até mesmo [manipular eleições](https://www.technologyreview.com/2017/04/11/152645/the-fbi-shut-down-a-huge-botnet-but-there-are-plenty-more-left/).

Nós devemos fazer melhor.

# **Você compõe software todo dia**

Se você é um desenvolvedor de software, você compõe funções e estrutura de dados todos os dias, você sabendo ou não. Você pode fazer isso conscientemente (e melhor), ou você pode fazer acidentalmente, com gambiarras.

O processo de desenvolvimento de software é quebrar grandes problemas em problemas menores, construir componentes que solvam esses problemas menores, e então compor esses componentes juntos para formar uma aplicação completa.

# **Compondo funções**

Composição de funções é o processo de aplicar uma função no *output* (saída) de outra função. Em álgebra, dada duas funções, `f` e `g`, `(f ∘ g)(x) = f(g(x))`. O círculo é o operador de composição. Ele é comumente pronunciado "composto com" ou "depois". Você pode ler como "`f` *composto com* `g` é igual à `f` de `g`" ou "`f` *depois* de `g` é igual à `g` de `x`". Nós dizemos `f` *depois* de `g` porque `g` é avaliados primeiro, depois sua saída é passada como argumento para `f`